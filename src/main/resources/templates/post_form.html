<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: head">
</head>

<body>

<nav th:replace="fragments :: navbar"></nav>
<div class="container text-center">
   <div>
      <h1 th:text="${title}"></h1>
   </div>
   <form method="post" style="max-width: 600px; margin: 0 auto;"
         th:action="@{/post/create}" th:object="${post}">
      <div class="m-3">
         <div class="form-group row mb-3">
            <label class="col-4 col-form-label">Title: </label>
            <div class="col-8">
               <input class="form-control" required th:field="${post.title}" name="title" type="text"/>
            </div>
         </div>

         <div class="form-group row mb-3">
            <label class="col-4 col-form-label">Post: </label>
            <div class="col-8">
               <textarea class="form-control"
                      required th:field="${post.text}" rows="5" name="text">
                </textarea>
                <select class="form-control" id="country" th:field="${post.location.country}">
                    <option value="United States">United States</option>
                </select>

                <select class="form-control" id="state" th:field="${post.location.state}">
                </select>

                <input list="city-list" class="form-control" id="city" th:field="${post.location.city}"/>
                       <datalist id="city-list"></datalist>
                </select>

                <input type="hidden" th:field="*{user}"/>

            </div>
         </div>
     <p class="error" th:errors="${post.title}"></p>
         <p class="error" th:errors="${post.text}"></p>
         <div>
            <button class="btn btn-outline-success w-100" type="submit">Create</button>
         </div>
      </div>
   </form>
</div>

<script th:src="@{/js/locations.js}" type="text/javascript"></script>

</body>
</html>